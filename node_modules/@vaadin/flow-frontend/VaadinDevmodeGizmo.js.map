{"version":3,"file":"VaadinDevmodeGizmo.js","sourceRoot":"","sources":["../../../../src/main/resources/META-INF/frontend/VaadinDevmodeGizmo.ts"],"names":[],"mappings":"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","sourcesContent":["import { css, html, LitElement, svg, property } from 'lit-element';\nimport { nothing } from 'lit-html';\nimport { classMap } from 'lit-html/directives/class-map.js';\n// @ts-ignore\nimport { copy } from './copy-to-clipboard.js';\nimport { licenseCheckFailed, licenseCheckNoKey, licenseCheckOk, Product, licenseInit } from './License';\n\ninterface ServerInfo {\n  vaadinVersion: string;\n  flowVersion: string;\n  javaVersion: string;\n  osVersion: string;\n}\n\nexport class VaadinDevmodeGizmo extends LitElement {\n\n  static BLUE_HSL = css`206, 100%, 70%`;\n  static GREEN_HSL = css`145, 80%, 42%`;\n  static GREY_HSL = css`0, 0%, 50%`;\n  static YELLOW_HSL = css`38, 98%, 64%`;\n  static RED_HSL = css`355, 100%, 68%`;\n  static MAX_LOG_ROWS = 1000;\n  static copyLogo = svg`<svg style=\"width: 16px; height: 16px\"><g id=\"copy-o\"><path d=\"M13 3h-3l-3-3h-7v13h6v3h10v-10l-3-3zM7 1l2 2h-2v-2zM1 12v-11h5v3h3v8h-8zM15 15h-8v-2h3v-9h2v3h3v8zM13 6v-2l2 2h-2z\"></path></g></svg>`;\n\n  static get styles() {\n    return css`\n       :host {\n         --gizmo-font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif;\n         --gizmo-font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;\n\n          --gizmo-font-size: 0.8125rem;\n\n          --gizmo-text-color: rgba(255, 255, 255, .85);\n          --gizmo-text-color-secondary: rgba(255, 255, 255, .65);\n          --gizmo-text-color-emphasis: rgba(255, 255, 255, 1);\n          --gizmo-text-color-active: rgba(255, 255, 255, 1);\n\n          --gizmo-background-color-inactive: rgba(50, 50, 50, .15);\n          --gizmo-background-color-active: rgba(50, 50, 50, 0.98);\n\n          --gizmo-border-radius: 0.5rem;\n          --gizmo-box-shadow: 0 4px 12px -2px rgba(0, 0, 0, 0.4);\n\n          --gizmo-blue-hsl: ${this.BLUE_HSL};\n          --gizmo-blue-color: hsl(var(--gizmo-blue-hsl));\n          --gizmo-green-hsl: ${this.GREEN_HSL};\n          --gizmo-green-color: hsl(var(--gizmo-green-hsl));\n          --gizmo-grey-hsl: ${this.GREY_HSL};\n          --gizmo-grey-color: hsl(var(--gizmo-grey-hsl));\n          --gizmo-yellow-hsl: ${this.YELLOW_HSL};\n          --gizmo-yellow-color: hsl(var(--gizmo-yellow-hsl));\n          --gizmo-red-hsl: ${this.RED_HSL};\n          --gizmo-red-color: hsl(var(--gizmo-red-hsl));\n\n          /* Needs to be in ms, used in JavaScript as well */\n          --gizmo-transition-duration: 200ms;\n\n          direction: ltr;\n          cursor: default;\n          font: normal 500 var(--gizmo-font-size)/1.125rem var(--gizmo-font-family);\n          color: var(--gizmo-text-color);\n          -webkit-user-select: none;\n          -moz-user-select: none;\n          user-select: none;\n\n          position: fixed;\n          z-index: 20000;\n          pointer-events: none;\n          bottom: 0;\n          right: 0;\n          width: 100%;\n          height: 100%;\n          display: flex;\n          flex-direction: column-reverse;\n          align-items: flex-end;\n       }\n\n      .gizmo {\n          pointer-events: auto;\n          display: flex;\n          align-items: center;\n          position: fixed;\n          z-index: inherit;\n          right: .25rem;\n          bottom: .25rem;\n          max-width: 1.75rem;\n          border-radius: 1rem;\n          padding: .375rem;\n          box-sizing: border-box;\n          background-color: var(--gizmo-background-color-inactive);\n          color: var(--gizmo-text-color);\n          transition: var(--gizmo-transition-duration) ease-in;\n          white-space: nowrap;\n          line-height: 1rem;\n      }\n\n      .gizmo:hover,\n      .gizmo.active {\n          max-width: calc(100% - 1rem);\n          background-color: var(--gizmo-background-color-active);\n          box-shadow: var(--gizmo-box-shadow);\n      }\n\n      .gizmo .vaadin-logo {\n          flex: none;\n          pointer-events: none;\n          display: inline-block;\n          width: 1rem;\n          height: 1rem;\n          fill: #fff;\n          transition: var(--gizmo-transition-duration);\n          transition-delay: var(--gizmo-transition-duration);\n          margin: 0;\n      }\n\n      .gizmo:hover .vaadin-logo,\n      .gizmo.active .vaadin-logo {\n          opacity: 0;\n          width: 0;\n      }\n\n      .gizmo .status-blip {\n          flex: none;\n          display: block;\n          width: 1rem;\n          height: 1rem;\n          border-radius: 50%;\n          z-index: 20001;\n          background-color: var(--gizmo-grey-color);\n          transform: translate(-0.5rem, -0.5rem) scale(0.375);\n          transition: var(--gizmo-transition-duration);\n          transition-delay: var(--gizmo-transition-duration);\n      }\n\n      .gizmo:hover .status-blip,\n      .gizmo.active .status-blip {\n          transform: translate(0, 0) scale(1);\n      }\n\n      .gizmo.active .vaadin-logo,\n      .gizmo.active .status-blip {\n          transition-delay: 0s;\n      }\n\n      .gizmo .status-description {\n          overflow: hidden;\n          text-overflow: ellipsis;\n      }\n\n      .gizmo > * {\n          margin-right: .5rem;\n      }\n\n      .switch {\n          display: inline-flex;\n          align-items: center;\n          margin-left: auto;\n          flex-shrink: 1;\n          min-width: 28px;\n      }\n\n      .switch input {\n          opacity: 0;\n          width: 0;\n          height: 0;\n      }\n\n      .switch .slider {\n          display: block;\n          flex: none;\n          width: 28px;\n          height: 18px;\n          border-radius: 9px;\n          background-color: rgba(255, 255, 255, 0.3);\n          transition: var(--gizmo-transition-duration);\n      }\n\n      .switch .slider:hover {\n          background-color: rgba(255, 255, 255, 0.35);\n          transition: none;\n      }\n\n      .switch .slider::before {\n          content: \"\";\n          display: block;\n          margin: 2px;\n          width: 14px;\n          height: 14px;\n          background-color: #fff;\n          transition: var(--gizmo-transition-duration);\n          border-radius: 50%;\n      }\n\n      .switch input:checked + .slider {\n          background-color: var(--gizmo-green-color);\n      }\n\n      .switch input:checked + .slider::before {\n          transform: translateX(10px);\n      }\n\n     .switch input:disabled + .slider::before {\n          background-color: var(--gizmo-grey-color);\n      }\n\n      .live-reload-text {\n          font-weight: 600;\n          margin-left: 0.5em;\n          flex: 1;\n          overflow: hidden;\n          text-overflow: ellipsis;\n      }\n\n      .window.hidden {\n          opacity: 0;\n          transform: scale(0);\n          position: absolute;\n      }\n\n      .window.visible {\n          transform: none;\n          opacity: 1;\n          pointer-events: auto;\n      }\n\n      .window.visible ~ .gizmo {\n          opacity: 0;\n          pointer-events: none;\n      }\n\n      .window.hidden ~ .gizmo {\n          opacity: 1;\n          transition-delay: 0;\n      }\n\n      .window.hidden ~ .gizmo:hover,\n      .window.hidden ~ .gizmo:hover .vaadin-logo,\n      .window.hidden ~ .gizmo:hover .status-blip {\n          transition-delay: var(--gizmo-transition-duration);\n      }\n\n      .window.visible ~ .gizmo .vaadin-logo,\n      .window.visible ~ .gizmo .status-blip {\n          transition: none;\n          opacity: 0;\n      }\n\n      .window {\n          border-radius: var(--gizmo-border-radius);\n          overflow: hidden;\n          margin: 0.5rem;\n          width: 30rem;\n          min-height: 10rem;\n          max-width: calc(100% - 1rem);\n          max-height: calc(50vh - 1rem);\n          flex-shrink: 0;\n          background-color: var(--gizmo-background-color-active);\n          color: var(--gizmo-text-color);\n          transition: var(--gizmo-transition-duration);\n          transform-origin: bottom right;\n          display: flex;\n          flex-direction: column;\n          box-shadow: var(--gizmo-box-shadow);\n      }\n\n      .window-toolbar {\n          display: flex;\n          flex: none;\n          align-items: center;\n          border-bottom: 1px solid rgba(255, 255, 255, 0.14);\n          padding: .25rem .75rem;\n          white-space: nowrap;\n      }\n\n      .tab {\n          color: var(--gizmo-text-color-secondary);\n          font-weight: 600;\n          padding-inline-end: 0.5rem;\n      }\n\n      .tab.active {\n          color: var(--gizmo-text-color-active);\n      }\n\n      .ahreflike {\n          font-weight: 600;\n          color: var(--gizmo-text-color-secondary);\n      }\n\n      .ahreflike:hover {\n          color: var(--gizmo-text-color-emphasis);\n      }\n\n      .minimize-button {\n          flex: none;\n          width: 1rem;\n          height: 1rem;\n          color: inherit;\n          background-color: transparent;\n          border: 0;\n          padding: 0;\n          margin: 0 -.375rem 0 1rem;\n          opacity: .8;\n          outline: none;\n      }\n\n      .minimize-button:hover {\n          opacity: 1;\n      }\n\n      .minimize-button svg {\n          max-width: 100%;\n      }\n\n      .message.information {\n          --gizmo-notification-color: var(--gizmo-blue-color);\n      }\n\n      .message.warning {\n          --gizmo-notification-color: var(--gizmo-yellow-color);\n      }\n\n      .message.error {\n          --gizmo-notification-color: var(--gizmo-red-color);\n      }\n\n      .message {\n          display: flex;\n          padding: .125rem .75rem .125rem 2rem;\n          background-clip: padding-box;\n      }\n\n      .message.log {\n          padding-left: 0.75rem;\n      }\n\n      .message-content {\n          margin-right: 0.5rem;\n          -webkit-user-select: text;\n          -moz-user-select: text;\n          user-select: text;\n      }\n\n      .message .message-heading {\n          position: relative;\n          display: flex;\n          align-items: center;\n          margin: 0.125rem 0;\n      }\n\n      .message.has-details .message-heading {\n          font-weight: 600;\n      }\n\n      .message .message-heading::before {\n          position: absolute;\n          margin-left: -1.5rem;\n          display: inline-block;\n          text-align: center;\n          font-size: 0.875em;\n          font-weight: 600;\n          line-height: calc(1.25em - 2px);\n          width: 1rem;\n          height: 1rem;\n          box-sizing: border-box;\n          border: 1px solid transparent;\n          border-radius: 50%;\n      }\n\n      .message.information .message-heading::before {\n          content: \"i\";\n          border-color: currentColor;\n          color: var(--gizmo-notification-color);\n      }\n\n      .message.warning .message-heading::before,\n      .message.error .message-heading::before {\n          content: \"!\";\n          color: var(--gizmo-background-color-active);\n          background-color: var(--gizmo-notification-color);\n      }\n\n      .message .message-details {\n          font-weight: 400;\n          color: var(--gizmo-text-color-secondary);\n          margin: 0.25rem 0;\n      }\n\n      .message .message-details[hidden] {\n          display: none;\n      }\n\n      .message .message-details p {\n          display: inline;\n          margin: 0;\n          margin-right: 0.375em;\n          word-break: break-word;\n      }\n\n      .message .ahreflike {\n          color: var(--gizmo-notification-color, var(--gizmo-text-color));\n          text-decoration: none;\n          opacity: 0.9;\n          font-weight: 500;\n      }\n\n      .message .ahreflike:hover {\n          color: var(--gizmo-notification-color, var(--gizmo-text-color-emphasis));\n          opacity: 1;\n      }\n\n      .message .persist {\n          color: var(--gizmo-text-color-secondary);\n          white-space: nowrap;\n          margin: 0.375rem 0;\n          display: flex;\n          align-items: center;\n          position: relative;\n          -webkit-user-select: none;\n          -moz-user-select: none;\n          user-select: none;\n      }\n\n      .message .persist::before {\n          content: \"\";\n          width: 1em;\n          height: 1em;\n          border-radius: 0.2em;\n          margin-right: 0.375em;\n          background-color: rgba(255, 255, 255, 0.3);\n      }\n\n      .message .persist:hover::before {\n          background-color: rgba(255, 255, 255, 0.4);\n      }\n\n      .message .persist.on::before {\n          background-color: rgba(255, 255, 255, 0.9);\n      }\n\n      .message .persist.on::after {\n          content: \"\";\n          order: -1;\n          position: absolute;\n          width: 0.75em;\n          height: 0.25em;\n          border: 2px solid var(--gizmo-background-color-active);\n          border-width: 0 0 2px 2px;\n          transform: translate(0.05em, -0.05em) rotate(-45deg) scale(0.8, 0.9);\n      }\n\n      .message .dismiss-message {\n          font-weight: 600;\n          align-self: stretch;\n          display: flex;\n          align-items: center;\n          padding: 0 0.25rem;\n          margin-left: 0.5rem;\n          color: var(--gizmo-text-color-secondary);\n      }\n\n      .message .dismiss-message:hover {\n          color: var(--gizmo-text-color);\n      }\n\n      .notification-tray {\n          display: flex;\n          flex-direction: column-reverse;\n          align-items: flex-end;\n          margin: 0.5rem;\n      }\n\n      .window.hidden + .notification-tray {\n          margin-bottom: 3rem;\n      }\n\n      .notification-tray .message {\n          pointer-events: auto;\n          background-color: var(--gizmo-background-color-active);\n          color: var(--gizmo-text-color);\n          max-width: 30rem;\n          box-sizing: border-box;\n          border-radius: var(--gizmo-border-radius);\n          margin-top: .5rem;\n          transition: var(--gizmo-transition-duration);\n          transform-origin: bottom right;\n          animation: slideIn var(--gizmo-transition-duration);\n          box-shadow: var(--gizmo-box-shadow);\n          padding-top: 0.25rem;\n          padding-bottom: 0.25rem;\n      }\n\n      .notification-tray .message.animate-out {\n          animation: slideOut forwards var(--gizmo-transition-duration);\n      }\n\n      .notification-tray .message .message-details {\n          max-height: 10em;\n          overflow: hidden;\n      }\n\n      .message-tray {\n          flex: auto;\n          overflow: auto;\n      }\n\n      .message-tray .message {\n          animation: appendList var(--gizmo-transition-duration) ease-in;\n          padding-left: 2.25rem;\n      }\n\n      .message-tray .message.warning {\n          background-color: hsla(var(--gizmo-yellow-hsl), 0.09);\n      }\n\n      .message-tray .message.error {\n          background-color: hsla(var(--gizmo-red-hsl), 0.09);\n      }\n\n      .message-tray .message + .message {\n          border-top: 1px solid rgba(255, 255, 255, 0.07);\n      }\n\n      .message-tray .message:last-child {\n          padding-bottom: 0.375rem;\n      }\n\n      .message-tray .dismiss-message,\n      .message-tray .persist {\n          display: none;\n      }\n      \n      .info-tray {\n          position: relative;\n      }\n      .info-message {\n          display: flex;\n          padding: 0.125rem 0.75rem 0.125rem 0.5rem;\n          background-clip: padding-box;\n          user-select: text;\n      }\n      .copy {\n          position: absolute;\n          fill: white;\n          top: 0.125rem;\n          right: 0.75rem;\n      }\n      @keyframes slideIn {\n          from {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0%);\n            opacity: 1;\n          }\n      }\n\n      @keyframes slideOut {\n          from {\n            transform: translateX(0%);\n            opacity: 1;\n          }\n          to {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n      }\n\n      @keyframes appendList {\n          0% {\n            font-size: 0;\n            opacity: 0;\n          }\n          50% {\n            font-size: 1em;\n            opacity: 0;\n          }\n          100% {\n            opacity: 1;\n          }\n      }\n\n    `;\n  }\n\n  static DISMISSED_NOTIFICATIONS_IN_LOCAL_STORAGE = 'vaadin.live-reload.dismissedNotifications';\n  static ACTIVE_KEY_IN_SESSION_STORAGE = 'vaadin.live-reload.active';\n  static TRIGGERED_KEY_IN_SESSION_STORAGE = 'vaadin.live-reload.triggered';\n  static TRIGGERED_COUNT_KEY_IN_SESSION_STORAGE = 'vaadin.live-reload.triggeredCount';\n\n  static AUTO_DEMOTE_NOTIFICATION_DELAY = 5000;\n\n  static HOTSWAP_AGENT = 'HOTSWAP_AGENT';\n  static JREBEL = 'JREBEL';\n  static SPRING_BOOT_DEVTOOLS = 'SPRING_BOOT_DEVTOOLS';\n  static BACKEND_DISPLAY_NAME: Record<string,string> = {\n      HOTSWAP_AGENT: 'HotswapAgent',\n      JREBEL: 'JRebel',\n      SPRING_BOOT_DEVTOOLS: 'Spring Boot Devtools'\n  };\n\n  static get isActive() {\n    const active = window.sessionStorage\n        .getItem(VaadinDevmodeGizmo.ACTIVE_KEY_IN_SESSION_STORAGE);\n    return active === null || active !== 'false';\n  }\n\n  static notificationDismissed(persistentId: string) {\n    const shown = window.localStorage\n        .getItem(VaadinDevmodeGizmo.DISMISSED_NOTIFICATIONS_IN_LOCAL_STORAGE);\n    return shown !== null && shown.includes(persistentId);\n  }\n\n  @property({type: String})\n  url?: string;\n\n  @property({ type: Boolean, attribute: true })\n  liveReloadDisabled?: boolean;\n\n  @property({type: String})\n  backend?: string;\n\n  @property({type: Number})\n  springBootLiveReloadPort?: number;\n\n  @property({type: Boolean, attribute: false})\n  expanded: boolean = false;\n\n  @property({type: Array, attribute: false})\n  messages:Message[] = [];\n\n  @property({ type: String, attribute: false })\n  splashMessage?: string;\n\n  @property({type: Array, attribute: false})\n  notifications: Message[] = [];\n\n  @property({type: String, attribute: false})\n  frontendStatus: ConnectionStatus = ConnectionStatus.UNAVAILABLE;\n\n  @property({type: String, attribute: false})\n  javaStatus: ConnectionStatus = ConnectionStatus.UNAVAILABLE;\n\n  @property({ type: String })\n  activeTab: string = 'log';\n\n  @property({type: Object})\n  serverInfo: ServerInfo = { flowVersion: '', vaadinVersion: '', javaVersion: '', osVersion: '' };\n\n  javaConnection?: Connection;\n  frontendConnection?: Connection;\n\n  nextMessageId: number = 1;\n\n  disableEventListener?: EventListener;\n\n  transitionDuration: number = 0;\n\n  constructor() {\n    super();\n  }\n\n  openWebSocketConnection() {\n    this.frontendStatus = ConnectionStatus.UNAVAILABLE;\n    this.javaStatus = ConnectionStatus.UNAVAILABLE;\n\n    const onConnectionError = (msg: string) => this.log(MessageType.ERROR, msg);\n    const onReload = () => {\n      if (this.liveReloadDisabled) {\n        return;\n      }\n      this.showSplashMessage('Reloadingâ€¦');\n      const lastReload = window.sessionStorage.getItem(\n          VaadinDevmodeGizmo.TRIGGERED_COUNT_KEY_IN_SESSION_STORAGE);\n      const nextReload = lastReload ? (parseInt(lastReload, 10) + 1) : 1;\n      window.sessionStorage.setItem(VaadinDevmodeGizmo.TRIGGERED_COUNT_KEY_IN_SESSION_STORAGE,\n          nextReload.toString());\n      window.sessionStorage.setItem(VaadinDevmodeGizmo.TRIGGERED_KEY_IN_SESSION_STORAGE,\n          'true');\n      window.location.reload();\n    };\n\n    const frontendConnection = new Connection(this.getDedicatedWebSocketUrl());\n    frontendConnection.onHandshake = () => {\n      this.log(MessageType.LOG, 'Vaadin development mode initialized');\n      if (!VaadinDevmodeGizmo.isActive) {\n        frontendConnection.setActive(false);\n      }\n    };\n    frontendConnection.onConnectionError = onConnectionError;\n    frontendConnection.onReload = onReload;\n    frontendConnection.onStatusChange = (status:ConnectionStatus) => {\n      this.frontendStatus = status;\n    };\n    frontendConnection.onMessage = (message: any) => {\n      if (message?.command === 'serverInfo') {\n        this.serverInfo = message.data as ServerInfo;\n      } else {\n        // eslint-disable-next-line no-console\n        console.error('Unknown message from frontend connection:', JSON.stringify(message));\n      }\n    };\n    this.frontendConnection = frontendConnection;\n\n    let javaConnection: Connection;\n    if (this.backend === VaadinDevmodeGizmo.SPRING_BOOT_DEVTOOLS\n        && this.springBootLiveReloadPort) {\n      javaConnection = new Connection(\n          this.getSpringBootWebSocketUrl(window.location));\n      javaConnection.onHandshake = () => {\n        if (!VaadinDevmodeGizmo.isActive) {\n          javaConnection.setActive(false);\n        }\n      };\n      javaConnection.onReload = onReload;\n      javaConnection.onConnectionError = onConnectionError;\n    } else if (this.backend === VaadinDevmodeGizmo.JREBEL\n        || this.backend === VaadinDevmodeGizmo.HOTSWAP_AGENT) {\n      javaConnection = frontendConnection;\n    } else {\n      javaConnection = new Connection(undefined);\n    }\n    const prevOnStatusChange = javaConnection.onStatusChange;\n    javaConnection.onStatusChange = status => {\n      prevOnStatusChange(status);\n      this.javaStatus = status;\n    };\n    const prevOnHandshake = javaConnection.onHandshake;\n    javaConnection.onHandshake = () => {\n      prevOnHandshake();\n      if (this.backend) {\n        this.log(\n            MessageType.INFORMATION,\n            `Java live reload available: ${VaadinDevmodeGizmo.BACKEND_DISPLAY_NAME[this.backend]}`\n        );\n      }\n    };\n    this.javaConnection = javaConnection;\n\n    if (!this.backend) {\n      this.showNotification(MessageType.WARNING,\n        'Java live reload unavailable',\n        'Live reload for Java changes is currently not set up. Find out how to make use of this functionality to boost your workflow.',\n        'https://vaadin.com/docs/live-reload',\n        'liveReloadUnavailable');\n    }\n  }\n\n  getDedicatedWebSocketUrl(): string | undefined {\n    function getAbsoluteUrl(relative: string) {\n      // Use innerHTML to obtain an absolute URL\n      const div = document.createElement('div');\n      div.innerHTML = '<a href=\"' + relative + '\"/>';\n      return (div.firstChild as HTMLLinkElement).href;\n    }\n    if (this.url === undefined) {\n      return undefined;\n    }\n    const connectionBaseUrl = getAbsoluteUrl(this.url!);\n\n    if (!connectionBaseUrl.startsWith('http://')\n        && !connectionBaseUrl.startsWith('https://')) {\n      // eslint-disable-next-line no-console\n      console.error('The protocol of the url should be http or https for live reload to work.');\n      return undefined;\n    }\n    return `${connectionBaseUrl.replace(/^http/, 'ws')}?v-r=push&debug_window`;\n  }\n\n  getSpringBootWebSocketUrl(location: any) {\n    const hostname = location.hostname;\n    const wsProtocol = location.protocol === 'https:' ? 'wss' : 'ws';\n    if (hostname.endsWith('gitpod.io')) {\n      // Gitpod uses `port-url` instead of `url:port`\n      const hostnameWithoutPort = hostname.replace(/.*?-/, '');\n      return wsProtocol + '://' + this.springBootLiveReloadPort + '-' + hostnameWithoutPort;\n    } else {\n      return wsProtocol + '://' + hostname + ':' + this.springBootLiveReloadPort;\n    }\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.catchErrors();\n\n    // when focus or clicking anywhere, move the splash message to the message tray\n    this.disableEventListener = (_:any) => this.demoteSplashMessage();\n    document.body.addEventListener('focus', this.disableEventListener);\n    document.body.addEventListener('click', this.disableEventListener);\n    this.openWebSocketConnection();\n\n    const lastReload = window.sessionStorage.getItem(\n        VaadinDevmodeGizmo.TRIGGERED_KEY_IN_SESSION_STORAGE);\n    if (lastReload) {\n      const count = window.sessionStorage.getItem(\n          VaadinDevmodeGizmo.TRIGGERED_COUNT_KEY_IN_SESSION_STORAGE);\n      const now = new Date();\n      const reloaded = ('0' + now.getHours()).slice(-2) + ':'\n        + ('0' + now.getMinutes()).slice(-2) + ':'\n        + ('0' + now.getSeconds()).slice(-2);\n      this.showSplashMessage('Automatic reload #' + count + ' finished at ' + reloaded);\n      window.sessionStorage.removeItem(\n          VaadinDevmodeGizmo.TRIGGERED_KEY_IN_SESSION_STORAGE);\n    }\n\n    this.transitionDuration = parseInt(window.getComputedStyle(this)\n        .getPropertyValue('--gizmo-transition-duration'), 10);\n\n    const windowAny = window as any;\n    windowAny.Vaadin = windowAny.Vaadin || {};\n    windowAny.Vaadin.devTools = Object.assign(this, windowAny.Vaadin.devTools);\n\n    licenseInit();\n  }\n\n  format(o: any): string {\n    return o.toString();\n  }\n  catchErrors() {\n    // Process stored messages\n    const queue = (window as any).Vaadin.ConsoleErrors as any[];\n    if (queue) {\n      queue.forEach((args: any[]) => {\n        this.log(MessageType.ERROR, args.map((o) => this.format(o)).join(' '));\n      });\n    }\n    // Install new handler that immediately processes messages\n    (window as any).Vaadin.ConsoleErrors = {\n      push: (args: any[]) => {\n        this.log(MessageType.ERROR, args.map((o) => this.format(o)).join(' '));\n      }\n    };\n  }\n\n  disconnectedCallback() {\n    if (this.disableEventListener) {\n      document.body.removeEventListener('focus', this.disableEventListener!);\n      document.body.removeEventListener('click', this.disableEventListener!);\n    }\n    super.disconnectedCallback();\n  }\n\n  toggleExpanded() {\n    this.notifications.slice()\n        .forEach(notification => this.dismissNotification(notification.id));\n    this.expanded = !this.expanded;\n  }\n\n  showSplashMessage(msg: string | undefined) {\n    this.splashMessage = msg;\n    if (this.splashMessage) {\n      if (this.expanded) {\n        this.demoteSplashMessage();\n      } else {\n        // automatically move notification to message tray after a certain amount of time\n        setTimeout(() => {\n          this.demoteSplashMessage();\n        }, VaadinDevmodeGizmo.AUTO_DEMOTE_NOTIFICATION_DELAY);\n      }\n    }\n  }\n\n  demoteSplashMessage() {\n    if (this.splashMessage) {\n      this.log(MessageType.LOG, this.splashMessage);\n    }\n    this.showSplashMessage(undefined);\n  }\n\n  checkLicense(productInfo: Product) {\n    if (this.frontendConnection) {\n      this.frontendConnection.sendLicenseCheck(productInfo);\n    } else {\n      licenseCheckFailed({ message: 'Internal error: no connection', product: productInfo });\n    }\n  }\n\n  log(type: MessageType, message: string, details?: string, link?: string) {\n    const id = this.nextMessageId;\n    this.nextMessageId += 1;\n    this.messages.push({\n      id,\n      type,\n      message,\n      details,\n      link,\n      dontShowAgain: false,\n      deleted: false\n    });\n    while (this.messages.length > VaadinDevmodeGizmo.MAX_LOG_ROWS) {\n      this.messages.shift();\n    }\n    this.requestUpdate();\n    this.updateComplete.then(() => {\n      // Scroll into view\n      setTimeout(() => {\n        const messageTray = this.shadowRoot!.querySelector('.message-tray .message:last-child');\n        if (messageTray) {\n          messageTray.scrollIntoView({ behavior: 'smooth' });\n          if (type === MessageType.ERROR) {\n            this.expanded = true;\n          }\n        }\n      }, this.transitionDuration);\n    });\n  }\n\n  showNotification(type: MessageType, message: string, details?: string, link?: string, persistentId?: string) {\n    if (persistentId === undefined || !VaadinDevmodeGizmo.notificationDismissed(persistentId!)) {\n      // Do not open persistent message if another is already visible with the same persistentId\n      const matchingVisibleNotifications = this.notifications\n          .filter((notification) => notification.persistentId === persistentId)\n          .filter((notification) => !notification.deleted);\n      if (matchingVisibleNotifications.length > 0) {\n        return;\n      }\n      const id = this.nextMessageId;\n      this.nextMessageId += 1;\n      this.notifications.push({\n        id,\n        type,\n        message,\n        details,\n        link,\n        persistentId,\n        dontShowAgain: false,\n        deleted: false\n      });\n      // automatically move notification to message tray after a certain amount of time unless it contains a link\n      if (link === undefined) {\n        setTimeout(() => {\n          this.dismissNotification(id);\n        }, VaadinDevmodeGizmo.AUTO_DEMOTE_NOTIFICATION_DELAY);\n      }\n      this.requestUpdate();\n    } else {\n      this.log(type, message, details, link);\n    }\n  }\n\n  dismissNotification(id: number) {\n    const index = this.findNotificationIndex(id);\n    if (index !== -1 && !this.notifications[index].deleted) {\n      const notification = this.notifications[index];\n\n      // user is explicitly dismissing a notification---after that we won't bug them with it\n      if (notification.dontShowAgain && notification.persistentId\n          && !VaadinDevmodeGizmo.notificationDismissed(notification.persistentId)) {\n        let dismissed = window.localStorage.getItem(VaadinDevmodeGizmo.DISMISSED_NOTIFICATIONS_IN_LOCAL_STORAGE);\n        dismissed = dismissed === null ? notification.persistentId : dismissed + ',' + notification.persistentId;\n        window.localStorage.setItem(VaadinDevmodeGizmo.DISMISSED_NOTIFICATIONS_IN_LOCAL_STORAGE, dismissed);\n      }\n\n      notification.deleted = true;\n      this.log(notification.type, notification.message, notification.details, notification.link);\n\n      // give some time for the animation\n      setTimeout(() => {\n        const idx = this.findNotificationIndex(id);\n        if (idx !== -1) {\n          this.notifications.splice(idx, 1);\n          this.requestUpdate();\n        }\n      }, this.transitionDuration);\n    }\n  }\n\n  findNotificationIndex(id: number): number {\n    let index = -1;\n    // @ts-ignore\n    this.notifications.some((notification, idx) => {\n      if (notification.id === id) {\n        index = idx;\n        return true;\n      } else {\n        return false;\n      }\n    });\n    return index;\n  }\n\n  toggleDontShowAgain(id: number) {\n    const index = this.findNotificationIndex(id);\n    if (index !== -1 && !this.notifications[index].deleted) {\n      const notification = this.notifications[index];\n      notification.dontShowAgain = !notification.dontShowAgain;\n      this.requestUpdate();\n    }\n  }\n\n  setActive(yes: boolean) {\n    this.frontendConnection?.setActive(yes);\n    this.javaConnection?.setActive(yes);\n    window.sessionStorage.setItem(VaadinDevmodeGizmo.ACTIVE_KEY_IN_SESSION_STORAGE,\n        yes ? 'true' : 'false');\n  }\n\n  getStatusColor(status: ConnectionStatus | undefined) {\n    if (status === ConnectionStatus.ACTIVE) {\n      return css`hsl(${VaadinDevmodeGizmo.GREEN_HSL})`;\n    } else if (status === ConnectionStatus.INACTIVE) {\n      return css`hsl(${VaadinDevmodeGizmo.GREY_HSL})`;\n    } else if (status === ConnectionStatus.UNAVAILABLE) {\n      return css`hsl(${VaadinDevmodeGizmo.YELLOW_HSL})`;\n    } else if (status === ConnectionStatus.ERROR) {\n      return css`hsl(${VaadinDevmodeGizmo.RED_HSL})`;\n    } else {\n      return css`none`;\n    }\n  }\n\n  /* eslint-disable lit/no-template-arrow */\n  renderMessage(messageObject: Message) {\n    return html`\n      <div class=\"message ${messageObject.type} ${messageObject.deleted ? 'animate-out' : ''} ${messageObject.details || messageObject.link ? 'has-details' : ''}\">\n        <div class=\"message-content\">\n          <div class=\"message-heading\">${messageObject.message}</div>\n          <div class=\"message-details\" ?hidden=\"${!messageObject.details && !messageObject.link}\">\n            ${messageObject.details ? html`<p>${messageObject.details}</p>` : ''}\n            ${messageObject.link ? html`<a class=\"ahreflike\" href=\"${messageObject.link}\" target=\"_blank\">Read more</a>` : ''}\n          </div>\n          ${messageObject.persistentId ? html`<div class=\"persist ${messageObject.dontShowAgain ? 'on' : 'off'}\" @click=${() => this.toggleDontShowAgain(messageObject.id)}>Donâ€™t show again</div>` : ''}\n        </div>\n        <div class=\"dismiss-message\" @click=${() => this.dismissNotification(messageObject.id)}>Dismiss</div>\n      </div>\n      `;\n  }\n\n  /* eslint-disable lit/no-template-map */\n  render() {\n    return html` <div class=\"window ${this.expanded ? 'visible' : 'hidden'}\">\n        <div class=\"window-toolbar\">\n          <span\n            class=${classMap({ tab: true, active: this.activeTab === 'log' })}\n            id=\"log\"\n            @click=${() => (this.activeTab = 'log')}\n            >Log</span\n          >\n          <span\n            class=${classMap({ tab: true, active: this.activeTab === 'info' })}\n            id=\"info\"\n            @click=${() => (this.activeTab = 'info')}\n            >Info</span\n          >\n\n          <label class=\"switch\">\n            <input\n              id=\"toggle\"\n              type=\"checkbox\"\n              ?disabled=${this.liveReloadDisabled ||\n    ((this.frontendStatus === ConnectionStatus.UNAVAILABLE ||\n        this.frontendStatus === ConnectionStatus.ERROR) &&\n        (this.javaStatus === ConnectionStatus.UNAVAILABLE || this.javaStatus === ConnectionStatus.ERROR))}\n              ?checked=\"${this.frontendStatus === ConnectionStatus.ACTIVE ||\n    this.javaStatus === ConnectionStatus.ACTIVE}\"\n              @change=${(e: any) => this.setActive(e.target.checked)}\n            />\n            <span class=\"slider\"></span>\n            <span class=\"live-reload-text\">Live reload</span>\n          </label>\n          <button class=\"minimize-button\" title=\"Minimize\" @click=${() => this.toggleExpanded()}>\n            <svg viewBox=\"0 0 16 16\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"currentColor\">\n              <path d=\"M7.25 0.75C7.25 0.335786 7.58579 0 8 0H12.25C14.3211 0 16 1.67893 16 3.75V12.25C16 14.3211 14.3211 16 12.25 16H3.75C1.67893 16 0 14.3211 0 12.25V8C0 7.58579 0.335786 7.25 0.75 7.25C1.16421 7.25 1.5 7.58579 1.5 8V12.25C1.5 13.4926 2.50736 14.5 3.75 14.5H12.25C13.4926 14.5 14.5 13.4926 14.5 12.25V3.75C14.5 2.50736 13.4926 1.5 12.25 1.5H8C7.58579 1.5 7.25 1.16421 7.25 0.75Z\"/>\n              <path d=\"M2.96967 2.96967C3.26256 2.67678 3.73744 2.67678 4.03033 2.96967L9.5 8.43934V5.75C9.5 5.33579 9.83579 5 10.25 5C10.6642 5 11 5.33579 11 5.75V10.25C11 10.6642 10.6642 11 10.25 11H5.75C5.33579 11 5 10.6642 5 10.25C5 9.83579 5.33579 9.5 5.75 9.5H8.43934L2.96967 4.03033C2.67678 3.73744 2.67678 3.26256 2.96967 2.96967Z\"/>\n            </svg>\n          </button>\n        </div>\n        ${this.activeTab === 'log'\n        ? html`<div class=\"message-tray\">${this.messages.map((msg) => this.renderMessage(msg))}</div>`\n        : nothing}\n        ${this.activeTab === 'info'\n        ? html`<div class=\"info-tray\">\n              <span class=\"copy\" @click=${this.copyInfoToClipboard}>${VaadinDevmodeGizmo.copyLogo}</span>\n              <div class=\"info-message\">Vaadin version: ${this.serverInfo.vaadinVersion}</div>\n              <div class=\"info-message\">Flow version: ${this.serverInfo.flowVersion}</div>\n              <div class=\"info-message\">Java version: ${this.serverInfo.javaVersion}</div>\n              <div class=\"info-message\">Operating system: ${this.serverInfo.osVersion}</div>\n              <div class=\"info-message\">Browser: ${navigator.userAgent}</div>\n            </div>`\n        : nothing}\n      </div>\n\n      <div class=\"notification-tray\">\n        ${this.notifications.map(msg => this.renderMessage(msg))}\n      </div>\n\n      <div class=\"gizmo ${this.splashMessage ? 'active' : ''}\" @click=${() => this.toggleExpanded()}>\n        <svg viewBox=\"0 0 16 16\" preserveAspectRatio=\"xMidYMid meet\" focusable=\"false\" class=\"vaadin-logo\">\n          <path d=\"M15.21 0.35c-0.436 0-0.79 0.354-0.79 0.79v0 0.46c0 0.5-0.32 0.85-1.070 0.85h-3.55c-1.61 0-1.73 1.19-1.8 1.83v0c-0.060-0.64-0.18-1.83-1.79-1.83h-3.57c-0.75 0-1.090-0.37-1.090-0.86v-0.45c0-0.006 0-0.013 0-0.020 0-0.425-0.345-0.77-0.77-0.77-0 0-0 0-0 0h0c-0 0-0 0-0 0-0.431 0-0.78 0.349-0.78 0.78 0 0.004 0 0.007 0 0.011v-0.001 1.32c0 1.54 0.7 2.31 2.34 2.31h3.66c1.090 0 1.19 0.46 1.19 0.9 0 0 0 0.090 0 0.13 0.048 0.428 0.408 0.758 0.845 0.758s0.797-0.33 0.845-0.754l0-0.004s0-0.080 0-0.13c0-0.44 0.1-0.9 1.19-0.9h3.61c1.61 0 2.32-0.77 2.32-2.31v-1.32c0-0.436-0.354-0.79-0.79-0.79v0z\"></path>\n          <path d=\"M11.21 7.38c-0.012-0-0.026-0.001-0.040-0.001-0.453 0-0.835 0.301-0.958 0.714l-0.002 0.007-2.21 4.21-2.3-4.2c-0.122-0.425-0.507-0.731-0.963-0.731-0.013 0-0.026 0-0.039 0.001l0.002-0c-0.012-0-0.025-0.001-0.039-0.001-0.58 0-1.050 0.47-1.050 1.050 0 0.212 0.063 0.41 0.171 0.575l-0.002-0.004 3.29 6.1c0.15 0.333 0.478 0.561 0.86 0.561s0.71-0.228 0.858-0.555l0.002-0.006 3.34-6.1c0.090-0.152 0.144-0.335 0.144-0.53 0-0.58-0.47-1.050-1.050-1.050-0.005 0-0.010 0-0.014 0h0.001z\"></path>\n        </svg>\n        <span class=\"status-blip\" style=\"background: linear-gradient(to right, ${this.getStatusColor(this.frontendStatus)} 0.5rem, ${this.getStatusColor(this.javaStatus)} 0.5rem)\"></span>\n          ${this.splashMessage \n      ? html`<span class=\"status-description\">${this.splashMessage}</span></div>`\n      : html`<span class=\"status-description\">Live reload (JS: ${this.frontendStatus}, Java: ${this.javaStatus}) </span><span class=\"ahreflike\">Details</span></div>`\n    }\n    </div>`;\n  }\n  copyInfoToClipboard(): void {\n    const messages = this.renderRoot.querySelectorAll('.info-message');\n    const text = Array.from(messages)\n        .map((message) => message.textContent)\n        .join('\\n');\n    copy(text);\n    this.showNotification(MessageType.INFORMATION, 'Version information copied to clipboard');\n  }\n}\n\nenum ConnectionStatus {\n  ACTIVE ='active',\n  INACTIVE = 'inactive',\n  UNAVAILABLE = 'unavailable',\n  ERROR = 'error'\n}\n\n// eslint-disable-next-line\nclass Connection extends Object {\n\n  static HEARTBEAT_INTERVAL = 180000;\n\n  status: ConnectionStatus = ConnectionStatus.UNAVAILABLE;\n  webSocket?: WebSocket;\n\n  constructor(url?: string) {\n    super();\n\n    if (url) {\n      this.webSocket = new WebSocket(url);\n      this.webSocket.onmessage = msg => this.handleMessage(msg);\n      this.webSocket.onerror = err => this.handleError(err);\n      this.webSocket.onclose = _ => {\n        if (this.status !== ConnectionStatus.ERROR) {\n          this.setStatus(ConnectionStatus.UNAVAILABLE);\n        }\n        this.webSocket = undefined;\n      };\n    }\n\n    setInterval(() => {\n      if (this.webSocket && self.status !== ConnectionStatus.ERROR\n          && this.status !== ConnectionStatus.UNAVAILABLE) {\n        this.webSocket.send('');\n      }\n    }, Connection.HEARTBEAT_INTERVAL);\n  }\n\n  onHandshake() {\n  }\n\n  onReload() {\n  }\n\n  onConnectionError(_: string) {\n  }\n\n  onStatusChange(_: ConnectionStatus) {}\n\n  onMessage(message: any) {\n    // eslint-disable-next-line no-console\n    console.error('Unknown message received from the live reload server:', message);\n  }\n\n  handleMessage(msg: any) {\n    let json;\n    try {\n      json = JSON.parse(msg.data);\n    } catch (e) {\n      this.handleError(`[${e.name}: ${e.message}`);\n      return;\n    }\n    if (json.command === 'hello') {\n      this.setStatus(ConnectionStatus.ACTIVE);\n      this.onHandshake();\n    } else if (json.command === 'reload') {\n      if (this.status === ConnectionStatus.ACTIVE) {\n        this.onReload();\n      }\n    } else if (json.command === 'license-check-ok') {\n      licenseCheckOk(json.data);\n    } else if (json.command === 'license-check-failed') {\n      licenseCheckFailed(json.data);\n    } else if (json.command === 'license-check-nokey') {\n      licenseCheckNoKey(json.data);\n    } else {\n      this.onMessage(json);\n    }\n  }\n\n  handleError(msg: any) {\n    // eslint-disable-next-line no-console\n    console.error(msg);\n    this.setStatus(ConnectionStatus.ERROR);\n    if (msg instanceof Event && this.webSocket) {\n      this.onConnectionError('Error in WebSocket connection to ' + this.webSocket.url);\n    } else {\n      this.onConnectionError(msg);\n    }\n  }\n\n  private send(command: string, data: any) {\n    const message = JSON.stringify({ command, data });\n    if (!this.webSocket) {\n      // eslint-disable-next-line no-console\n      console.error(`Unable to send message ${command}. No websocket is available`);\n    } else if (this.webSocket.readyState !== WebSocket.OPEN) {\n      this.webSocket.addEventListener('open', () => this.webSocket!.send(message));\n    } else {\n      this.webSocket.send(message);\n    }\n  }\n\n  setActive(yes: boolean) {\n    if (!yes && this.status === ConnectionStatus.ACTIVE) {\n      this.setStatus(ConnectionStatus.INACTIVE);\n    } else if (yes && this.status === ConnectionStatus.INACTIVE) {\n      this.setStatus(ConnectionStatus.ACTIVE);\n    }\n  }\n\n  setStatus(status: ConnectionStatus) {\n    if (this.status !== status) {\n      this.status = status;\n      this.onStatusChange(status);\n    }\n  }\n\n  sendLicenseCheck(product: Product) {\n    this.send('checkLicense', product);\n  }\n}\n\nenum MessageType {\n  LOG = 'log',\n  INFORMATION ='information',\n  WARNING = 'warning',\n  ERROR = 'error'\n}\n\ninterface Message {\n  id: number;\n  type: MessageType;\n  message: string;\n  details?: string;\n  link?: string;\n  persistentId?: string;\n  dontShowAgain: boolean;\n  deleted: boolean;\n}\n\nif (customElements.get('vaadin-devmode-gizmo') === undefined) {\n  customElements.define('vaadin-devmode-gizmo', VaadinDevmodeGizmo);\n}\n"]}